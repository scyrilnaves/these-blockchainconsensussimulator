<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="564px" preserveAspectRatio="none" style="width:2685px;height:564px;background:#F8E7C0;" version="1.1" viewBox="0 0 2685 564" width="2685px" zoomAndPan="magnify"><defs/><g><!--MD5=[fd20ec58b7570fc6f3219eb9b2bb932a]
cluster org.renaultleat.consensus--><g id="cluster_org.renaultleat.consensus"><path d="M8.5,7.2168 L309.5,7.2168 A3.75,3.75 0 0 1 312,9.7168 L319,36.498 L2675.5,36.498 A2.5,2.5 0 0 1 2678,38.998 L2678,554.7168 A2.5,2.5 0 0 1 2675.5,557.2168 L8.5,557.2168 A2.5,2.5 0 0 1 6,554.7168 L6,9.7168 A2.5,2.5 0 0 1 8.5,7.2168 " fill="none" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="6" x2="319" y1="36.498" y2="36.498"/><text fill="#000000" font-family="Broadway" font-size="20" font-weight="bold" lengthAdjust="spacing" textLength="300" x="10" y="27.7813">org.renaultleat.consensus</text></g><!--MD5=[bea5b0d46523efab5ea1c1d339f396f0]
class Message--><g id="elem_Message"><rect codeLine="8" fill="#F1F1F1" height="492.3438" id="Message" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="1273" x="1389.5" y="49.2168"/><ellipse cx="1978.5" cy="66.2168" fill="#ADD1B2" rx="12" ry="12" style="stroke:#181818;stroke-width:1.0;"/><path d="M1981.5625,73.2949 Q1980.875,73.6543 1980.125,73.8262 Q1979.375,73.998 1978.5469,73.998 Q1975.5938,73.998 1974.0313,72.0605 Q1972.4844,70.1074 1972.4844,66.4355 Q1972.4844,62.7637 1974.0313,60.8262 Q1975.5938,58.873 1978.5469,58.873 Q1979.375,58.873 1980.125,59.0449 Q1980.8906,59.2168 1981.5625,59.5762 L1981.5625,62.7793 Q1980.8125,62.0918 1980.1094,61.7793 Q1979.4219,61.4668 1978.6719,61.4668 Q1977.0938,61.4668 1976.2813,62.7168 Q1975.4844,63.9668 1975.4844,66.4355 Q1975.4844,68.9043 1976.2813,70.1543 Q1977.0938,71.4043 1978.6719,71.4043 Q1979.4219,71.4043 1980.1094,71.0918 Q1980.8125,70.7793 1981.5625,70.0918 L1981.5625,73.2949 Z " fill="#000000"/><text fill="#000000" font-family="Broadway" font-size="20" lengthAdjust="spacing" textLength="86" x="2000.5" y="73.1406">Message</text><line style="stroke:#181818;stroke-width:0.5;" x1="1390.5" x2="2661.5" y1="83.2168" y2="83.2168"/><polygon fill="none" points="1400.5,96.3574,1396.5,102.3574,1404.5,102.3574" style="stroke:#1963A0;stroke-width:1.0;"/><text fill="#000000" font-family="Broadway" font-size="20" lengthAdjust="spacing" textLength="184" x="1410.5" y="105.7813">blockHash : String</text><polygon fill="none" points="1400.5,119.6387,1396.5,125.6387,1404.5,125.6387" style="stroke:#1963A0;stroke-width:1.0;"/><text fill="#000000" font-family="Broadway" font-size="20" lengthAdjust="spacing" textLength="167" x="1410.5" y="129.0625">contents : String</text><polygon fill="none" points="1400.5,142.9199,1396.5,148.9199,1404.5,148.9199" style="stroke:#1963A0;stroke-width:1.0;"/><text fill="#000000" font-family="Broadway" font-size="20" lengthAdjust="spacing" textLength="240" x="1410.5" y="152.3438">messageSender : String</text><polygon fill="none" points="1400.5,166.2012,1396.5,172.2012,1404.5,172.2012" style="stroke:#1963A0;stroke-width:1.0;"/><text fill="#000000" font-family="Broadway" font-size="20" lengthAdjust="spacing" textLength="264" x="1410.5" y="175.625">messagesignature : String</text><polygon fill="none" points="1400.5,189.4824,1396.5,195.4824,1404.5,195.4824" style="stroke:#1963A0;stroke-width:1.0;"/><text fill="#000000" font-family="Broadway" font-size="20" lengthAdjust="spacing" textLength="105" x="1410.5" y="198.9063">round : int</text><polygon fill="none" points="1400.5,212.7637,1396.5,218.7637,1404.5,218.7637" style="stroke:#1963A0;stroke-width:1.0;"/><text fill="#000000" font-family="Broadway" font-size="20" lengthAdjust="spacing" textLength="124" x="1410.5" y="222.1875">type : String</text><line style="stroke:#181818;stroke-width:0.5;" x1="1390.5" x2="2661.5" y1="230.9043" y2="230.9043"/><ellipse cx="1400.5" cy="248.0449" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="Broadway" font-size="20" lengthAdjust="spacing" textLength="1246" x="1410.5" y="253.4688">Message(type : String, blockHash : String, messagesignature : String, messageSender : String, contents : String, round : int)</text><ellipse cx="1400.5" cy="271.3262" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="Broadway" font-size="20" lengthAdjust="spacing" textLength="234" x="1410.5" y="276.75">getBlockHash() : String</text><ellipse cx="1400.5" cy="294.6074" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="Broadway" font-size="20" lengthAdjust="spacing" textLength="219" x="1410.5" y="300.0313">getContents() : String</text><ellipse cx="1400.5" cy="317.8887" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="Broadway" font-size="20" lengthAdjust="spacing" textLength="286" x="1410.5" y="323.3125">getMessageSender() : String</text><ellipse cx="1400.5" cy="341.1699" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="Broadway" font-size="20" lengthAdjust="spacing" textLength="310" x="1410.5" y="346.5938">getMessagesignature() : String</text><ellipse cx="1400.5" cy="364.4512" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="Broadway" font-size="20" lengthAdjust="spacing" textLength="160" x="1410.5" y="369.875">getRound() : int</text><ellipse cx="1400.5" cy="387.7324" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="Broadway" font-size="20" lengthAdjust="spacing" textLength="177" x="1410.5" y="393.1563">getType() : String</text><ellipse cx="1400.5" cy="411.0137" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="Broadway" font-size="20" lengthAdjust="spacing" textLength="335" x="1410.5" y="416.4375">setBlockHash(blockHash : String)</text><ellipse cx="1400.5" cy="434.2949" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="Broadway" font-size="20" lengthAdjust="spacing" textLength="303" x="1410.5" y="439.7188">setContents(contents : String)</text><ellipse cx="1400.5" cy="457.5762" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="Broadway" font-size="20" lengthAdjust="spacing" textLength="443" x="1410.5" y="463">setMessageSender(messageSender : String)</text><ellipse cx="1400.5" cy="480.8574" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="Broadway" font-size="20" lengthAdjust="spacing" textLength="491" x="1410.5" y="486.2813">setMessagesignature(messagesignature : String)</text><ellipse cx="1400.5" cy="504.1387" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="Broadway" font-size="20" lengthAdjust="spacing" textLength="216" x="1410.5" y="509.5625">setRound(round : int)</text><ellipse cx="1400.5" cy="527.4199" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="Broadway" font-size="20" lengthAdjust="spacing" textLength="218" x="1410.5" y="532.8438">setType(type : String)</text></g><!--MD5=[783c5a55039a6aaff3586e7a5f91c2eb]
class BFTMessageHandler--><g id="elem_BFTMessageHandler"><rect codeLine="29" fill="#F1F1F1" height="422.5" id="BFTMessageHandler" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="1332" x="22" y="83.7168"/><ellipse cx="582" cy="100.7168" fill="#ADD1B2" rx="12" ry="12" style="stroke:#181818;stroke-width:1.0;"/><path d="M585.0625,107.7949 Q584.375,108.1543 583.625,108.3262 Q582.875,108.498 582.0469,108.498 Q579.0938,108.498 577.5313,106.5605 Q575.9844,104.6074 575.9844,100.9355 Q575.9844,97.2637 577.5313,95.3262 Q579.0938,93.373 582.0469,93.373 Q582.875,93.373 583.625,93.5449 Q584.3906,93.7168 585.0625,94.0762 L585.0625,97.2793 Q584.3125,96.5918 583.6094,96.2793 Q582.9219,95.9668 582.1719,95.9668 Q580.5938,95.9668 579.7813,97.2168 Q578.9844,98.4668 578.9844,100.9355 Q578.9844,103.4043 579.7813,104.6543 Q580.5938,105.9043 582.1719,105.9043 Q582.9219,105.9043 583.6094,105.5918 Q584.3125,105.2793 585.0625,104.5918 L585.0625,107.7949 Z " fill="#000000"/><text fill="#000000" font-family="Broadway" font-size="20" lengthAdjust="spacing" textLength="203" x="604" y="107.6406">BFTMessageHandler</text><line style="stroke:#181818;stroke-width:0.5;" x1="23" x2="1353" y1="117.7168" y2="117.7168"/><ellipse cx="33" cy="134.8574" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="Broadway" font-size="20" lengthAdjust="spacing" textLength="212" x="43" y="140.2813">blockPool : BlockPool</text><ellipse cx="33" cy="158.1387" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="Broadway" font-size="20" lengthAdjust="spacing" textLength="238" x="43" y="163.5625">blockchain : Blockchain</text><ellipse cx="33" cy="181.4199" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="Broadway" font-size="20" lengthAdjust="spacing" textLength="196" x="43" y="186.8438">currentuser : String</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="30" y="201.7012"/><text fill="#000000" font-family="Broadway" font-size="20" lengthAdjust="spacing" textLength="182" x="43" y="210.125">minapprovals : int</text><ellipse cx="33" cy="227.9824" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="Broadway" font-size="20" lengthAdjust="spacing" textLength="419" x="43" y="233.4063">nodeCommunicator : NodeCommunicator</text><ellipse cx="33" cy="251.2637" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="Broadway" font-size="20" lengthAdjust="spacing" textLength="279" x="43" y="256.6875">nonValidator : NonValidator</text><ellipse cx="33" cy="274.5449" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="Broadway" font-size="20" lengthAdjust="spacing" textLength="341" x="43" y="279.9688">bftMessagePool : BFTMessagePool</text><ellipse cx="33" cy="297.8262" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="Broadway" font-size="20" lengthAdjust="spacing" textLength="333" x="43" y="303.25">transactionPool : TransactionPool</text><ellipse cx="33" cy="321.1074" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="Broadway" font-size="20" lengthAdjust="spacing" textLength="198" x="43" y="326.5313">validator : Validator</text><ellipse cx="33" cy="344.3887" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="Broadway" font-size="20" lengthAdjust="spacing" textLength="144" x="43" y="349.8125">wallet : Wallet</text><line style="stroke:#181818;stroke-width:0.5;" x1="23" x2="1353" y1="358.5293" y2="358.5293"/><ellipse cx="33" cy="375.6699" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="Broadway" font-size="20" lengthAdjust="spacing" textLength="1305" x="43" y="381.0938">BFTMessageHandler(blockChain , transactionPool, wallet , bftMessagePool, validator, nodeCommunicator , blockpool ,currentuser)</text><ellipse cx="33" cy="398.9512" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="Broadway" font-size="20" lengthAdjust="spacing" textLength="529" x="43" y="404.375">broadCastCommit(data : Message, message : String)</text><ellipse cx="33" cy="422.2324" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="Broadway" font-size="20" lengthAdjust="spacing" textLength="536" x="43" y="427.6563">broadCastPrePrepare(block : Block, message : String)</text><ellipse cx="33" cy="445.5137" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="Broadway" font-size="20" lengthAdjust="spacing" textLength="526" x="43" y="450.9375">broadCastPrepare(data : Message, message : String)</text><ellipse cx="33" cy="468.7949" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="Broadway" font-size="20" lengthAdjust="spacing" textLength="726" x="43" y="474.2188">broadCastRoundChange(data : Message, message : String, user : String)</text><ellipse cx="33" cy="492.0762" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="Broadway" font-size="20" lengthAdjust="spacing" textLength="413" x="43" y="497.5">handleMessage(jsonObject : JSONObject)</text></g><!--MD5=[6f1297a05b87d58fe69ea3e9bbf38721]
@startuml
skinparam backgroundColor strategy
skinparam defaultFontColor black
skinparam defaultFontSize 20
skinparam ArrowColor mediumturquoise
skinparam ArrowThickness 5
skinparam DefaultFontName Broadway
package org.renaultleat.consensus {
  class Message {
    ~ blockHash : String
    ~ contents : String
    ~ messageSender : String
    ~ messagesignature : String
    ~ round : int
    ~ type : String
    + Message(type : String, blockHash : String, messagesignature : String, messageSender : String, contents : String, round : int)
    + getBlockHash() : String
    + getContents() : String
    + getMessageSender() : String
    + getMessagesignature() : String
    + getRound() : int
    + getType() : String
    + setBlockHash(blockHash : String)
    + setContents(contents : String)
    + setMessageSender(messageSender : String)
    + setMessagesignature(messagesignature : String)
    + setRound(round : int)
    + setType(type : String)
  }
  class BFTMessageHandler {
    + blockPool : BlockPool
    + blockchain : Blockchain
    + currentuser : String
    - minapprovals : int
    + nodeCommunicator : NodeCommunicator
    + nonValidator : NonValidator
    + bftMessagePool : BFTMessagePool
    + transactionPool : TransactionPool
    + validator : Validator
    + wallet : Wallet
    + BFTMessageHandler(blockChain , transactionPool, wallet , bftMessagePool, validator, nodeCommunicator , blockpool ,currentuser)
    + broadCastCommit(data : Message, message : String)
    + broadCastPrePrepare(block : Block, message : String)
    + broadCastPrepare(data : Message, message : String)
    + broadCastRoundChange(data : Message, message : String, user : String)
    + handleMessage(jsonObject : JSONObject)
  }
  
}
@enduml

PlantUML version 1.2022.7(Mon Aug 22 19:01:30 CEST 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>